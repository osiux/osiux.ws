@import 'tailwindcss';
@plugin "@tailwindcss/typography";

@config "../../tailwind.config.mjs";

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@layer base {
	*,
	*::before,
	*::after {
		@apply transition-colors duration-300 ease-in-out;
	}

	body {
		@apply bg-white font-sans text-gray-900 leading-[1.7] dark:bg-[#1a1a1a]! dark:text-gray-200!;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6,
	.prose h1,
	.prose h2,
	.prose h3,
	.prose h4,
	.prose h5,
	.prose h6 {
		@apply font-sans font-semibold text-gray-900 leading-[1.3] tracking-[-0.02em] dark:text-white!;
	}

	.prose {
		@apply text-gray-700 dark:text-gray-300!;
	}

	.prose a {
		@apply text-gray-900 dark:text-blue-400! underline decoration-1 decoration-gray-300 dark:decoration-blue-600! underline-offset-2 hover:decoration-gray-900 dark:hover:decoration-blue-300! transition-colors;
	}

	.prose p {
		@apply leading-relaxed mb-[1.5em];
	}

	.prose strong {
		@apply text-gray-900 dark:text-gray-100! font-semibold;
	}

	blockquote *:last-child,
	li *:last-child,
	p *:last-child {
		@apply mb-0;
	}

	blockquote p {
		@apply dark:text-gray-300!;
	}

	.prose blockquote {
		@apply border-l-gray-300 dark:border-l-gray-600! italic;
	}

	/* Code in text */
	p > code,
	li > code,
	dd > code,
	td > code {
		@apply bg-gray-100 text-gray-800 dark:bg-gray-700! dark:text-gray-100! break-words box-decoration-clone px-1.5 py-0.5 rounded text-[0.9em];
	}

	.prose pre.astro-code {
		@apply whitespace-pre-wrap wrap-break-word text-left bg-gray-50 dark:bg-[#0d1117]! rounded-lg p-5;
	}
}

@layer components {
	nav[aria-label='Pagination'] {
		@apply isolate flex -space-x-px rounded-md justify-center;
	}

	nav[aria-label='Pagination'] ul {
		@apply list-none flex;
	}

	nav[aria-label='Pagination'] ul li a {
		@apply relative block rounded bg-transparent px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 focus:bg-gray-50 focus:outline-none active:bg-gray-50 dark:text-gray-400 dark:hover:text-gray-100 dark:hover:bg-gray-800 dark:focus:bg-gray-800 dark:active:bg-gray-800 transition-colors;
	}

	nav[aria-label='Pagination'] ul li [aria-current='page'] {
		@apply relative block rounded px-3 py-2 font-medium text-gray-900 bg-gray-100 focus:outline-none dark:text-gray-100 dark:bg-gray-800;
	}
}

.visually-hidden {
	@apply absolute h-px w-px overflow-hidden whitespace-nowrap border-0 p-0 -m-px;
	clip: rect(0 0 0 0);
}

.ch-editor-body pre code > div > div {
	height: 100% !important;
}
